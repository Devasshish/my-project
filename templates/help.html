{% extends 'base.html' %}
{% load static %}{% block title %}Help Center - SocialSphere{% endblock %}

{% block extra_styles %}

<style>
    .main-content {
        padding: 30px;
        display: flex;
        justify-content: center;
        align-items: center; /* Changed from flex-start to center */
        min-height: calc(100vh - 60px); /* Ensure full height for centering */
    }
    
    .help-center-container {
        position: relative;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        max-width: 800px;
        width: 100%;
        border-radius: 20px;
        box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
        padding: 40px;
        backdrop-filter: blur(10px);
        transform-style: preserve-3d;
        transition: all 0.3s ease;
        color: #ffffff;
        margin: 0 auto; /* Added to ensure horizontal centering */
    }

    .help-center-container:hover {
        transform: translateY(-5px);
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
    }

    .help-center-header {
        text-align: center;
        margin-bottom: 30px;
    }

    .help-center-header h1 {
        font-size: 2.2rem;
        font-weight: 700;
        margin-bottom: 15px;
    }

    .help-center-header p {
        color: rgba(255, 255, 255, 0.9);
        margin-bottom: 20px;
        font-size: 1.1rem;
    }

    .help-center-header input {
        width: 100%;
        padding: 15px 20px;
        border: none;
        border-radius: 12px;
        background: rgba(255, 255, 255, 0.2);
        color: #fff;
        font-size: 1rem;
        outline: none;
        transition: all 0.3s ease;
        backdrop-filter: blur(5px);
    }

    .help-center-header input::placeholder {
        color: rgba(255, 255, 255, 0.7);
    }

    .help-center-header input:focus {
        background: rgba(255, 255, 255, 0.3);
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
    }

    .help-categories {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
        gap: 15px;
        margin-bottom: 30px;
    }

    .category-card {
        background: rgba(255, 255, 255, 0.15);
        border-radius: 15px;
        padding: 20px;
        text-align: center;
        transition: all 0.3s ease;
        cursor: pointer;
        backdrop-filter: blur(5px);
    }

    .category-card:hover {
        background: rgba(255, 255, 255, 0.25);
        transform: translateY(-5px);
    }

    .category-icon {
        font-size: 2rem;
        margin-bottom: 10px;
    }

    .category-title {
        font-weight: 600;
        font-size: 1.1rem;
    }

    .help-center-faq, .help-center-contact {
        margin-bottom: 30px;
    }

    .help-center-faq h2, .help-center-contact h2 {
        font-size: 1.8rem;
        font-weight: 600;
        margin-bottom: 20px;
    }

    .help-center-faq-item {
        margin-bottom: 15px;
    }

    .help-center-faq-question {
        width: 100%;
        padding: 15px 20px;
        border: none;
        background: rgba(255, 255, 255, 0.15);
        color: #fff;
        font-size: 1rem;
        font-weight: 500;
        text-align: left;
        border-radius: 12px;
        cursor: pointer;
        transition: all 0.3s ease;
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    .help-center-faq-question:hover {
        background: rgba(255, 255, 255, 0.25);
        transform: translateY(-2px);
    }

    .help-center-faq-question i {
        transition: transform 0.3s ease;
    }

    .help-center-faq-question.active i {
        transform: rotate(180deg);
    }

    .help-center-faq-answer {
        display: none;
        padding: 15px 20px;
        margin-top: 10px;
        background: rgba(255, 255, 255, 0.1);
        border-radius: 12px;
        color: rgba(255, 255, 255, 0.9);
        font-size: 0.95rem;
        backdrop-filter: blur(5px);
    }

    .help-center-form {
        display: flex;
        flex-direction: column;
        gap: 15px;
    }

    .help-center-form label {
        font-size: 1rem;
        font-weight: 500;
    }

    .help-center-form input, .help-center-form textarea {
        width: 100%;
        padding: 15px 20px;
        border: none;
        border-radius: 12px;
        background: rgba(255, 255, 255, 0.15);
        color: #fff;
        font-size: 1rem;
        outline: none;
        transition: all 0.3s ease;
    }

    .help-center-form input::placeholder, .help-center-form textarea::placeholder {
        color: rgba(255, 255, 255, 0.7);
    }

    .help-center-form input:focus, .help-center-form textarea:focus {
        background: rgba(255, 255, 255, 0.25);
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
    }

    .help-center-form textarea {
        min-height: 120px;
        resize: vertical;
    }

    .help-center-form button {
        padding: 15px 20px;
        border: none;
        border-radius: 12px;
        background: rgba(255, 255, 255, 0.25);
        color: #fff;
        font-size: 1rem;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
    }

    .help-center-form button:hover {
        background: rgba(255, 255, 255, 0.35);
        transform: translateY(-2px);
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
    }

    .quick-links {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
        margin-top: 20px;
        margin-bottom: 30px;
    }

    .quick-link {
        background: rgba(255, 255, 255, 0.15);
        color: #fff;
        padding: 8px 15px;
        border-radius: 20px;
        font-size: 0.9rem;
        transition: all 0.3s ease;
        text-decoration: none;
        display: inline-flex;
        align-items: center;
        gap: 5px;
    }

    .quick-link:hover {
        background: rgba(255, 255, 255, 0.25);
        transform: translateY(-2px);
    }

    @media (max-width: 768px) {
        .help-center-container {
            padding: 30px 20px;
        }
        
        .help-categories {
            grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
        }
    }

    @media (max-width: 480px) {
        .help-center-container {
            padding: 25px 15px;
        }
        
        .help-center-header h1 {
            font-size: 1.8rem;
        }
        
        .help-categories {
            grid-template-columns: 1fr 1fr;
        }
    }
</style>{% endblock %}

{% block content %}

<div class="help-center-container">
    <header class="help-center-header">
        <h1>Help Center</h1>
        <p>Find answers to your questions and get support for SocialSphere</p>
        <input type="text" id="search" placeholder="Search for help topics..."
            onkeyup="searchFAQ()">
    </header>
    <div class="help-categories">
        <div class="category-card" onclick="filterByCategory('account')">
            <div class="category-icon">
                <i class="fas fa-user-circle"></i>
            </div>
            <div class="category-title">Account</div>
        </div>
        <div class="category-card" onclick="filterByCategory('posts')">
            <div class="category-icon">
                <i class="fas fa-image"></i>
            </div>
            <div class="category-title">Posts</div>
        </div>
        <div class="category-card" onclick="filterByCategory('privacy')">
            <div class="category-icon">
                <i class="fas fa-shield-alt"></i>
            </div>
            <div class="category-title">Privacy</div>
        </div>
        <div class="category-card" onclick="filterByCategory('technical')">
            <div class="category-icon">
                <i class="fas fa-wrench"></i>
            </div>
            <div class="category-title">Technical</div>
        </div>
    </div>

    <section class="help-center-faq">
        <h2>Frequently Asked Questions</h2>
        <div class="help-center-faq-item" data-category="account">
            <button class="help-center-faq-question" onclick="toggleFAQ(this)">
                How do I reset my password?
                <i class="fas fa-chevron-down"></i>
            </button>
            <div class="help-center-faq-answer">
                To reset your password, go to Settings by clicking the gear icon
                in the sidebar. Select 'Change Password' and follow the
                instructions. You'll need to enter your current password and
                then create a new one.
            </div>
        </div>
        <div class="help-center-faq-item" data-category="privacy">
            <button class="help-center-faq-question" onclick="toggleFAQ(this)">
                How do I report a fake account?
                <i class="fas fa-chevron-down"></i>
            </button>
            <div class="help-center-faq-answer">
                To report a fake account, visit the profile you believe is fake,
                click the three dots (⋮) in the top right corner, and select
                'Report'. Choose 'Fake Account' as the reason and provide any
                additional information that might help our team investigate.
            </div>
        </div>
        <div class="help-center-faq-item" data-category="account">
            <button class="help-center-faq-question" onclick="toggleFAQ(this)">
                How do I delete my account?
                <i class="fas fa-chevron-down"></i>
            </button>
            <div class="help-center-faq-answer">
                To delete your account, go to Settings by clicking the gear icon
                in the sidebar. Scroll to the bottom and click 'Delete Account'.
                You'll need to confirm this action by entering your password.
                Please note that account deletion is permanent and all your data
                will be removed.
            </div>
        </div>
        <div class="help-center-faq-item" data-category="posts">
            <button class="help-center-faq-question" onclick="toggleFAQ(this)">
                How do I create a new post?
                <i class="fas fa-chevron-down"></i>
            </button>
            <div class="help-center-faq-answer">
                To create a new post, click on 'Add Post' in the sidebar. You
                can upload an image, add a caption, and share it with your
                followers. Make sure your content follows our community
                guidelines.
            </div>
        </div>
        <div class="help-center-faq-item" data-category="posts">
            <button class="help-center-faq-question" onclick="toggleFAQ(this)">
                How do I edit or delete a post?
                <i class="fas fa-chevron-down"></i>
            </button>
            <div class="help-center-faq-answer">
                To edit or delete a post, go to the post and click the three
                dots (⋮) in the top right corner. Select 'Edit Post' to modify
                the caption or 'Delete Post' to remove it completely. You can
                only edit or delete your own posts.
            </div>
        </div>
        <div class="help-center-faq-item" data-category="technical">
            <button class="help-center-faq-question" onclick="toggleFAQ(this)">
                Why can't I upload images?
                <i class="fas fa-chevron-down"></i>
            </button>
            <div class="help-center-faq-answer">
                If you're having trouble uploading images, check that your image
                file is in a supported format (JPG, PNG, GIF) and under 10MB in
                size. Also ensure you have a stable internet connection. If
                problems persist, try using a different browser or clearing your
                cache.
            </div>
        </div>
    </section>

    <section class="help-center-contact">
        <h2>Contact Support</h2>
        <form class="help-center-form" id="support-form">
            <label for="name">Name:</label>
            <input type="text" id="name" placeholder="Your name" required>

            <label for="email">Email:</label>
            <input type="email" id="email" placeholder="Your email address"
                required>

            <label for="subject">Subject:</label>
            <input type="text" id="subject"
                placeholder="What is your question about?" required>

            <label for="message">Message:</label>
            <textarea id="message"
                placeholder="Describe your issue in detail..."
                required></textarea>

            <button type="submit">
                <i class="fas fa-paper-plane"></i> Submit Request
            </button>
        </form>
    </section>
</div>
{% endblock %}{% block jscode %}

<script>
    // Initialize GSAP animations
    document.addEventListener('DOMContentLoaded', function() {
        // Animate help center container
        gsap.from(".help-center-container", {
            y: 30,
            opacity: 0,
            duration: 0.8,
            ease: "power2.out"
        });
        
        // Animate header elements
        gsap.from(".help-center-header > *", {
            y: -20,
            opacity: 0,
            duration: 0.6,
            stagger: 0.2,
            ease: "power2.out",
            delay: 0.3
        });
        
        gsap.from(".category-card", {
            scale: 0.8,
            opacity: 0,
            duration: 0.5,
            stagger: 0.1,
            ease: "back.out(1.7)",
            delay: 0.5
        });
        
        gsap.from(".help-center-faq-item", {
            x: -30,
            opacity: 0,
            duration: 0.6,
            stagger: 0.1,
            ease: "power2.out",
            delay: 0.7
        });
        
        gsap.from(".help-center-form > *", {
            y: 20,
            opacity: 0,
            duration: 0.5,
            stagger: 0.1,
            ease: "power2.out",
            delay: 0.9
        });
    });

    function toggleFAQ(button) {
        button.classList.toggle('active');
        
        let answer = button.nextElementSibling;
        
        if (answer.style.display === "block") {
            answer.style.display = "none";
        } else {
            answer.style.display = "block";
        }
    }

    function searchFAQ() {
        const searchTerm = document.getElementById("search").value.toLowerCase();
        const faqItems = document.querySelectorAll(".help-center-faq-item");
        
        document.querySelectorAll('.category-card').forEach(card => {
            card.style.opacity = "1";
        });

        faqItems.forEach(item => {
            const question = item.querySelector(".help-center-faq-question").textContent.toLowerCase();
            const answer = item.querySelector(".help-center-faq-answer").textContent.toLowerCase();

            if (question.includes(searchTerm) || answer.includes(searchTerm)) {
                item.style.display = "block";
            } else {
                item.style.display = "none";
            }
        });
    }
    
    function filterByCategory(category) {
        const faqItems = document.querySelectorAll(".help-center-faq-item");
        const searchInput = document.getElementById("search");
        searchInput.value = ""; // Clear search when filtering by category
        
        // Highlight selected category
        document.querySelectorAll('.category-card').forEach(card => {
            if (card.querySelector('.category-title').textContent.toLowerCase() === category) {
                card.style.background = "rgba(255, 255, 255, 0.3)";
                card.style.transform = "translateY(-5px) scale(1.05)";
            } else {
                card.style.background = "rgba(255, 255, 255, 0.15)";
                card.style.transform = "none";
            }
        });
        
        faqItems.forEach(item => {
            if (item.dataset.category === category || category === 'all') {
                item.style.display = "block";
            } else {
                item.style.display = "none";
            }
        });
    }
    
    document.getElementById('support-form').addEventListener('submit', function(e) {
        e.preventDefault();
        
        // Simple animation for button
        const button = this.querySelector('button');
        button.style.transform = "scale(0.95)";
        setTimeout(() => {
            button.style.transform = "scale(1)";
        }, 200);
        
        setTimeout(() => {
            this.innerHTML = `
                <div style="text-align: center; padding: 20px;">
                    <i class="fas fa-check-circle" style="font-size: 3rem; margin-bottom: 15px;"></i>
                    <h3 style="margin-bottom: 10px;">Request Submitted!</h3>
                    <p>We've received your message and will get back to you soon.</p>
                </div>
            `;
        }, 500);
    });
</script>{% endblock %}